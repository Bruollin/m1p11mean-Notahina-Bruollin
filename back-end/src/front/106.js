"use strict";(self.webpackChunkargon_dashboard_angular=self.webpackChunkargon_dashboard_angular||[]).push([[106],{3106:($,l,n)=>{n.r(l),n.d(l,{ManagerLayoutModule:()=>R});var p=n(529),h=n(8616),o=n(6895),m=n(433),v=n(3447),Z=n(383),_=n(5972),t=n(4650),c=n(9942);function T(i,s){1&i&&(t.TgZ(0,"div",7),t._UZ(1,"i",8),t.TgZ(2,"p"),t._uU(3,"Chargement en cours..."),t.qZA()())}function q(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t._UZ(7,"td",19),t.TgZ(8,"td"),t._uU(9),t.qZA()()),2&i){const e=s.$implicit,a=t.oxw(2);t.xp6(2),t.Oqu(e.lastname),t.xp6(2),t.Oqu(e.firstname),t.xp6(2),t.Oqu(e.email),t.xp6(1),t.Q6J("innerHTML",a.generateStars(e.preferences),t.oJD),t.xp6(2),t.Oqu(a.formatDate(e.date_insertion))}}function A(i,s){if(1&i&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"h3",13),t._uU(5,"Liste des employ\xe9s"),t.qZA()()()(),t.TgZ(6,"div",14)(7,"table",15)(8,"thead",16)(9,"tr")(10,"th",17),t._uU(11,"Nom"),t.qZA(),t.TgZ(12,"th",17),t._uU(13,"Pr\xe9nom"),t.qZA(),t.TgZ(14,"th",17),t._uU(15,"Email"),t.qZA(),t.TgZ(16,"th",17),t._uU(17,"Pr\xe9f\xe9rences"),t.qZA(),t.TgZ(18,"th",17),t._uU(19,"Date d'insertion"),t.qZA()()(),t.TgZ(20,"tbody"),t.YNc(21,q,10,5,"tr",18),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(21),t.Q6J("ngForOf",e.employees)}}function x(i,s){1&i&&(t.TgZ(0,"div",7),t._UZ(1,"i",8),t.TgZ(2,"p"),t._uU(3,"Chargement en cours..."),t.qZA()())}function U(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA()()),2&i){const e=s.$implicit,a=t.oxw(2);t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.price),t.xp6(2),t.Oqu(e.duration),t.xp6(2),t.Oqu(e.commission_pourcentage),t.xp6(2),t.Oqu(a.formatDate(e.date_insertion))}}function y(i,s){if(1&i&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"h3",13),t._uU(5,"Liste des services"),t.qZA()()()(),t.TgZ(6,"div",14)(7,"table",15)(8,"thead",16)(9,"tr")(10,"th",17),t._uU(11,"Nom"),t.qZA(),t.TgZ(12,"th",17),t._uU(13,"Prix"),t.qZA(),t.TgZ(14,"th",17),t._uU(15,"Dur\xe9e"),t.qZA(),t.TgZ(16,"th",17),t._uU(17,"Commission"),t.qZA(),t.TgZ(18,"th",17),t._uU(19,"Date d'insertion"),t.qZA()()(),t.TgZ(20,"tbody"),t.YNc(21,U,11,5,"tr",18),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(21),t.Q6J("ngForOf",e.services)}}let C=(()=>{class i{constructor(e){this.httpClient=e,this.employees=[],this.services=[],this.loading=!0}ngOnInit(){this.httpClient.get(c.C+"employe").subscribe(e=>{this.employees=e,this.loading=!1},e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es :",e),this.loading=!1}),this.httpClient.get(c.C+"services").subscribe(e=>{this.services=e,this.loading=!1},e=>{console.error("Error fetching services data:",e),this.loading=!1})}generateStars(e){let a="";for(let r=1;r<=5;r++)a+=`<i class="fas fa-star ${r<=e?"text-warning":"text-muted"}"></i>`;return a}formatDate(e){const a=new Date(e);return`${a.getDate().toString().padStart(2,"0")}/${(a.getMonth()+1).toString().padStart(2,"0")}/${a.getFullYear()}`}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.eN))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-liste-employe"]],decls:11,vars:4,consts:[[1,"header","bg-gradient-danger","pb-8","pt-5","pt-md-8"],[1,"container-fluid","mt--9"],[1,"row","mt-5"],[1,"col"],["class","text-center text-white py-5 mt--7",4,"ngIf"],["class","card bg-default shadow",4,"ngIf"],[1,"container-fluid","mt-3"],[1,"text-center","text-white","py-5","mt--7"],[1,"fas","fa-spinner","fa-spin","fa-3x"],[1,"card","bg-default","shadow"],[1,"card-header","bg-transparent","border-0"],[1,"row"],[1,"col-md-10"],[1,"text-white","mb-0"],[1,"table-responsive"],[1,"table","align-items-center","table-dark","table-flush"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(e,a){1&e&&(t._UZ(0,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,T,4,0,"div",4),t.YNc(5,A,22,1,"div",5),t.qZA()()(),t.TgZ(6,"div",6)(7,"div",2)(8,"div",3),t.YNc(9,x,4,0,"div",4),t.YNc(10,y,22,1,"div",5),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",a.loading),t.xp6(1),t.Q6J("ngIf",!a.loading),t.xp6(4),t.Q6J("ngIf",a.loading),t.xp6(1),t.Q6J("ngIf",!a.loading))},dependencies:[o.sg,o.O5]}),i})(),b=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-accueil-manager"]],decls:1,vars:0,template:function(e,a){1&e&&t._UZ(0,"app-liste-employe")},dependencies:[C]}),i})(),S=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-gestion-services"]],decls:2,vars:0,template:function(e,a){1&e&&(t.TgZ(0,"p"),t._uU(1,"gestion-services works!"),t.qZA())}}),i})();var w=n(8332),u=n.n(w),d=n(235);const g=function(i){return{active:i}};let O=(()=>{class i{constructor(){this.clicked=!0,this.clicked1=!1}ngOnInit(){this.datasets=[[0,20,10,30,15,40,20,60,60],[0,20,5,25,10,30,15,40,40]],this.data=this.datasets[0];var e=document.getElementById("chart-orders");(0,d.I6)(u(),(0,d.q_)()),new(u())(e,{type:"bar",options:d.di.options,data:d.di.data});var r=document.getElementById("chart-sales");this.salesChart=new(u())(r,{type:"line",options:d.FV.options,data:d.FV.data})}updateOptions(){this.salesChart.data.datasets[0].data=this.data,this.salesChart.update()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-statistiques-graph"]],decls:96,vars:6,consts:[[1,"header","bg-gradient-danger","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"header-body"],[1,"row"],[1,"col-xl-4","col-lg-6"],[1,"card","card-stats","mb-4","mb-xl-0"],[1,"card-body"],[1,"col"],[1,"card-title","text-uppercase","text-muted","mb-0"],[1,"h2","font-weight-bold","mb-0"],[1,"col-auto"],[1,"icon","icon-shape","bg-danger","text-white","rounded-circle","shadow"],[1,"fas","fa-chart-bar"],[1,"mt-3","mb-0","text-muted","text-sm"],[1,"text-success","mr-2"],[1,"fa","fa-arrow-up"],[1,"text-nowrap"],[1,"icon","icon-shape","bg-warning","text-white","rounded-circle","shadow"],[1,"fas","fa-chart-pie"],[1,"text-danger","mr-2"],[1,"fas","fa-arrow-down"],[1,"icon","icon-shape","bg-info","text-white","rounded-circle","shadow"],[1,"fas","fa-percent"],[1,"fas","fa-arrow-up"],[1,"container-fluid","mt--7"],[1,"col-xl-8","mb-5","mb-xl-0"],[1,"card","bg-gradient-default","shadow"],[1,"card-header","bg-transparent"],[1,"row","align-items-center"],[1,"text-white","mb-0"],[1,"nav","nav-pills","justify-content-end"],["data-toggle","chart","data-target","#chart-sales",1,"nav-item","mr-2","mr-md-0",3,"click"],["href","javascript:void(0)","data-toggle","tab",1,"nav-link","py-2","px-3",3,"ngClass","click"],[1,"d-none","d-md-block"],[1,"d-md-none"],["data-toggle","chart","data-target","#chart-sales",1,"nav-item",3,"click"],[1,"chart"],["id","chart-sales",1,"chart-canvas"],[1,"col-xl-4"],[1,"card","shadow"],[1,"text-uppercase","text-muted","ls-1","mb-1"],[1,"mb-0"],["id","chart-orders",1,"chart-canvas"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",3)(8,"div",7)(9,"h5",8),t._uU(10,"Rendez-vous"),t.qZA(),t.TgZ(11,"span",9),t._uU(12,"350.897"),t.qZA()(),t.TgZ(13,"div",10)(14,"div",11),t._UZ(15,"i",12),t.qZA()()(),t.TgZ(16,"p",13)(17,"span",14),t._UZ(18,"i",15),t._uU(19," 3.48%"),t.qZA(),t.TgZ(20,"span",16),t._uU(21,"Depuis le mois denier"),t.qZA()()()()(),t.TgZ(22,"div",4)(23,"div",5)(24,"div",6)(25,"div",3)(26,"div",7)(27,"h5",8),t._uU(28,"Nouveaux clients"),t.qZA(),t.TgZ(29,"span",9),t._uU(30,"2.356"),t.qZA()(),t.TgZ(31,"div",10)(32,"div",17),t._UZ(33,"i",18),t.qZA()()(),t.TgZ(34,"p",13)(35,"span",19),t._UZ(36,"i",20),t._uU(37," 3.48%"),t.qZA(),t.TgZ(38,"span",16),t._uU(39,"Depuis la semaine derni\xe8re"),t.qZA()()()()(),t.TgZ(40,"div",4)(41,"div",5)(42,"div",6)(43,"div",3)(44,"div",7)(45,"h5",8),t._uU(46,"Performance"),t.qZA(),t.TgZ(47,"span",9),t._uU(48,"49,65%"),t.qZA()(),t.TgZ(49,"div",10)(50,"div",21),t._UZ(51,"i",22),t.qZA()()(),t.TgZ(52,"p",13)(53,"span",14),t._UZ(54,"i",23),t._uU(55," 12%"),t.qZA(),t.TgZ(56,"span",16),t._uU(57,"Depuis le moins dernier"),t.qZA()()()()()()()()(),t.TgZ(58,"div",24)(59,"div",3)(60,"div",25)(61,"div",26)(62,"div",27)(63,"div",28)(64,"div",7)(65,"h2",29),t._uU(66,"B\xe9n\xe9fice"),t.qZA()(),t.TgZ(67,"div",7)(68,"ul",30)(69,"li",31),t.NdJ("click",function(){return a.data=a.datasets[0],a.updateOptions()}),t.TgZ(70,"a",32),t.NdJ("click",function(){return a.clicked=!0,a.clicked1=!1}),t.TgZ(71,"span",33),t._uU(72,"Mois"),t.qZA(),t.TgZ(73,"span",34),t._uU(74,"M"),t.qZA()()(),t.TgZ(75,"li",35),t.NdJ("click",function(){return a.data=a.datasets[1],a.updateOptions()}),t.TgZ(76,"a",32),t.NdJ("click",function(){return a.clicked=!1,a.clicked1=!0}),t.TgZ(77,"span",33),t._uU(78,"Semaine"),t.qZA(),t.TgZ(79,"span",34),t._uU(80,"W"),t.qZA()()()()()()(),t.TgZ(81,"div",6)(82,"div",36),t._UZ(83,"canvas",37),t.qZA()()()(),t.TgZ(84,"div",38)(85,"div",39)(86,"div",27)(87,"div",28)(88,"div",7)(89,"h6",40),t._uU(90,"Performance"),t.qZA(),t.TgZ(91,"h2",41),t._uU(92,"Total Rendez-vous"),t.qZA()()()(),t.TgZ(93,"div",6)(94,"div",36),t._UZ(95,"canvas",42),t.qZA()()()()()()),2&e&&(t.xp6(70),t.Q6J("ngClass",t.VKq(2,g,!0===a.clicked)),t.xp6(6),t.Q6J("ngClass",t.VKq(4,g,!0===a.clicked1)))},dependencies:[o.mk]}),i})(),J=(()=>{class i{constructor(e){this.http=e,this.apiUrl=c.C+"rendezvous/statReservation",this.apiUrlAffaire=c.C+"rendezvous/statChiffreAffaire"}getReservationStats(){return this.http.post(this.apiUrl,{})}getChiffreAffairesStats(){return this.http.post(this.apiUrlAffaire,{})}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(p.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function M(i,s){1&i&&(t.TgZ(0,"div",6),t._UZ(1,"i",7),t.TgZ(2,"p"),t._uU(3,"Chargement en cours..."),t.qZA()())}function E(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"th",18)(2,"div",19)(3,"div",20)(4,"span",21),t._uU(5),t.qZA()()()(),t.TgZ(6,"td"),t._uU(7),t.qZA()()),2&i){const e=s.$implicit;t.xp6(5),t.Oqu(e.employee),t.xp6(2),t.hij("",e.hours," heures")}}function N(i,s){if(1&i&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"h3",12),t._uU(5,"Temps moyen de travail par employ\xe9"),t.qZA()()()(),t.TgZ(6,"div",13)(7,"table",14)(8,"thead",15)(9,"tr")(10,"th",16),t._uU(11,"Employ\xe9"),t.qZA(),t.TgZ(12,"th",16),t._uU(13,"Temps moyen travail"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,E,8,2,"tr",17),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(15),t.Q6J("ngForOf",e.employeeData)}}function D(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&i){const e=s.$implicit,a=t.oxw(2);t.xp6(2),t.Oqu(e),t.xp6(2),t.Oqu(a.reservationsParJour[e])}}function I(i,s){if(1&i&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"h3",12),t._uU(5,"R\xe9servations par Jour"),t.qZA()()()(),t.TgZ(6,"div",13)(7,"table",14)(8,"thead",15)(9,"tr")(10,"th",16),t._uU(11,"Date"),t.qZA(),t.TgZ(12,"th",16),t._uU(13,"R\xe9servations/jour"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,D,5,2,"tr",17),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(15),t.Q6J("ngForOf",e.getDates(e.reservationsParJour))}}function P(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&i){const e=s.$implicit,a=t.oxw(2);t.xp6(2),t.Oqu(e),t.xp6(2),t.Oqu(a.reservationsParMois[e])}}function F(i,s){if(1&i&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"h3",12),t._uU(5,"R\xe9servations par Mois"),t.qZA()()()(),t.TgZ(6,"div",13)(7,"table",14)(8,"thead",15)(9,"tr")(10,"th",16),t._uU(11,"Mois"),t.qZA(),t.TgZ(12,"th",16),t._uU(13,"R\xe9servations/mois"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,P,5,2,"tr",17),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(15),t.Q6J("ngForOf",e.getMonths(e.reservationsParMois))}}function Y(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e[0]),t.xp6(2),t.hij("",e[1]," Ar")}}function k(i,s){if(1&i&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"h3",12),t._uU(5,"Chiffre d'Affaires par Jour"),t.qZA()()()(),t.TgZ(6,"div",13)(7,"table",14)(8,"thead",15)(9,"tr")(10,"th",16),t._uU(11,"Date"),t.qZA(),t.TgZ(12,"th",16),t._uU(13,"Chiffre d'Affaires (Ariary)"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,Y,5,2,"tr",17),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(15),t.Q6J("ngForOf",e.getEntries(e.chiffreAffairesParJour))}}function L(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e[0]),t.xp6(2),t.hij("",e[1]," Ar")}}function Q(i,s){if(1&i&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"h3",12),t._uU(5,"Chiffre d'Affaires par Mois"),t.qZA()()()(),t.TgZ(6,"div",13)(7,"table",14)(8,"thead",15)(9,"tr")(10,"th",16),t._uU(11,"Mois"),t.qZA(),t.TgZ(12,"th",16),t._uU(13,"Chiffre d'Affaires (Ariary)"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,L,5,2,"tr",17),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(15),t.Q6J("ngForOf",e.getEntries(e.chiffreAffairesParMois))}}const G=[{path:"accueil-manager",component:b},{path:"statistiques",component:(()=>{class i{constructor(e,a){this.http=e,this.reservationService=a,this.employeeData=[],this.reservationsParJour={},this.reservationsParMois={},this.chiffreAffairesParJour={},this.chiffreAffairesParMois={},this.showStatistics=!0,this.loading=!0}ngOnInit(){this.fetchData(),this.loadReservationStats(),this.loadChiffreAffaires()}fetchData(){this.http.post(c.C+"rendezvous/statDureeMoyenne",{}).subscribe(a=>{this.processData(a),this.loading=!1})}processData(e){this.employeeData=[];for(const[a,r]of Object.entries(e.dureeMoyenneDeTravailParEmployee))this.employeeData.push({employee:a,hours:r})}loadReservationStats(){this.reservationService.getReservationStats().subscribe(e=>{this.reservationsParJour=e.reservationsParJour,this.reservationsParMois=e.reservationsParMois})}getDates(e){return Object.keys(e)}getMonths(e){return Object.keys(e)}loadChiffreAffaires(){this.reservationService.getChiffreAffairesStats().subscribe(e=>{this.chiffreAffairesParJour=e.chiffreAffairesParJour,this.chiffreAffairesParMois=e.chiffreAffairesParMois})}getEntries(e){return Object.entries(e)}toggleStatistics(){this.showStatistics=!this.showStatistics}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.eN),t.Y36(J))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-statistiques"]],decls:18,vars:6,consts:[[1,"header","bg-gradient-danger","pb-8","pt-5","pt-md-8"],[1,"container-fluid","mt--9"],[1,"row","mt-5"],[1,"col"],["class","text-center text-white py-5 mt--7",4,"ngIf"],["class","card bg-default shadow",4,"ngIf"],[1,"text-center","text-white","py-5","mt--7"],[1,"fas","fa-spinner","fa-spin","fa-3x"],[1,"card","bg-default","shadow"],[1,"card-header","bg-transparent","border-0"],[1,"row"],[1,"col-md-10"],[1,"text-white","mb-0"],[1,"table-responsive"],[1,"table","align-items-center","table-dark","table-flush"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"media","align-items-center"],[1,"media-body"],[1,"mb-0","text-sm"]],template:function(e,a){1&e&&(t._UZ(0,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,M,4,0,"div",4),t.YNc(5,N,16,1,"div",5),t.qZA()(),t.TgZ(6,"div",2)(7,"div",3),t.YNc(8,I,16,1,"div",5),t.qZA()(),t.TgZ(9,"div",2)(10,"div",3),t.YNc(11,F,16,1,"div",5),t.qZA()(),t.TgZ(12,"div",2)(13,"div",3),t.YNc(14,k,16,1,"div",5),t.qZA()(),t.TgZ(15,"div",2)(16,"div",3),t.YNc(17,Q,16,1,"div",5),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",a.loading),t.xp6(1),t.Q6J("ngIf",!a.loading),t.xp6(3),t.Q6J("ngIf",!a.loading),t.xp6(3),t.Q6J("ngIf",!a.loading),t.xp6(3),t.Q6J("ngIf",!a.loading),t.xp6(3),t.Q6J("ngIf",!a.loading))},dependencies:[o.sg,o.O5]}),i})()},{path:"statistiques-graph",component:O},{path:"gestion-services",component:S}];let R=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[_.Is,o.ez,h.Bz.forChild(G),m.u5,p.JF,Z.IJ,v.Iq]}),i})()}}]);